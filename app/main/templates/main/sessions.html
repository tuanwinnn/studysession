{% extends "base.html" %}

{% block title %}Study Sessions{% endblock %}

{% block content %}
<div class="sessions-page">
    <h1>Study Sessions</h1>
    <p>View sessions youâ€™ve joined and explore new sessions you can join.</p>

    <!-- Joined Sessions Section -->
    <h2>Your Joined Sessions</h2>
    <div class="session-list">
        {% if joined_sessions %}
            {% for session in joined_sessions %}
            <div class="session-card">
                <h3>{{ session.title }}</h3>
                <p><strong>When:</strong> {{ session.date }} at {{ session.time }}</p>
                <p><strong>Where:</strong> {{ session.location }}</p>
                <p><strong>Topic:</strong> {{ session.topic }}</p>
                <p><strong>Created by:</strong> {{ session.creator }}</p>
                <p><strong>Participants:</strong> {{ session.participant_count }} joined</p>
                <form action="{{ url_for('leave_session', session_id=session.id) }}" method="POST">
                    <button class="btn leave-btn">Leave Session</button>
                </form>
            </div>
            {% endfor %}
        {% else %}
            <p>You haven't joined any Python sessions yet.</p>
        {% endif %}
    </div>

    <hr>

    <!-- Available Sessions Section -->
    <h2>Available Python Sessions to Join</h2>
    <div class="session-list">
        {% if available_sessions %}
            {% for session in available_sessions %}
            <div class="session-card">
                <h3>{{ session.title }}</h3>
                <p><strong>When:</strong> {{ session.date }} at {{ session.time }}</p>
                <p><strong>Where:</strong> {{ session.location }}</p>
                <p><strong>Topic:</strong> {{ session.topic }}</p>
                <p><strong>Created by:</strong> {{ session.creator }}</p>
                <p><strong>Participants:</strong> {{ session.participant_count }} joined</p>
                <form action="{{ url_for('join_session', session_id=session.id) }}" method="POST">
                    <button class="btn join-btn">Join Session</button>
                </form>
            </div>
            {% endfor %}
        {% else %}
            <p>No upcoming Python sessions available right now.</p>
        {% endif %}
    </div>
</div>

{% endblock %} 

